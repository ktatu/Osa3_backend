{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","handleFilterInput","filterValue","value","onChange","PersonForm","handleNameInput","handleNumberInput","header","numberForm","nameForm","addPerson","onSubmit","type","Person","person","onClick","name","number","Persons","filter","persons","map","key","toLocaleLowerCase","includes","id","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","margin","errorStyle","Notification","message","style","baseUrl","axios","get","then","response","data","personObject","post","console","log","delete","status","newObject","put","App","useState","newFilter","setNewFilter","setPersons","newName","setNewName","newNumber","setNewNumber","notification","setNotification","eventReplaceNumber","foundPerson","confirmation","personService","returnedPerson","successNotification","catch","error","setTimeout","findPerson","length","eventType","useEffect","initialPersons","event","target","preventDefault","undefined","concat","window","confirm","alert","find","responseStatus","newArray","listPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bc3ba68f.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({handleFilterInput, filterValue}) => {\r\n    return (\r\n        <div>\r\n            Filter:<input value={filterValue} onChange={handleFilterInput} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({handleNameInput, handleNumberInput, header, numberForm, nameForm, addPerson }) => {\r\n    return (\r\n        <div>\r\n            <h2>{header}</h2>\r\n            <form onSubmit={addPerson}>\r\n                <div>\r\n                name: <input value={nameForm} onChange={handleNameInput} /><br></br>\r\n                number: <input value={numberForm} onChange={handleNumberInput} />\r\n                </div>\r\n                <div>\r\n                <button type=\"submit\">add</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person =  ({ person, onClick }) => {\r\n    return (\r\n        <li>\r\n            {person.name} {person.number}\r\n            <button type=\"submit\" onClick={onClick} value={person.name}>delete</button>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({filter, persons, onClick}) => {\r\n    if (filter === '') {\r\n        return (\r\n          <ul>\r\n            {persons.map(person =>\r\n            <Person key={person.name} person={person} onClick={onClick}/>)}\r\n          </ul>\r\n        )  \r\n      }\r\n\r\n      return (\r\n        <ul>\r\n          {persons.filter(person => person.name.toLocaleLowerCase().includes(filter.toLocaleLowerCase()))\r\n          .map(person => \r\n          <div key={person.id}>\r\n            <Person key={person.name} person={person} onClick={onClick}/>\r\n          </div>)}\r\n        </ul>\r\n      )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\n/*\r\n.error {\r\n  color: red;\r\n  background: lightgrey;\r\n  font-size: 20px;\r\n  border-style: solid;\r\n  border-radius: 5px;\r\n  padding: 10px;\r\n  margin-bottom: 10px;\r\n}\r\n*/\r\nconst notificationStyle = { \r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        margin: 20\r\n}\r\n\r\nconst errorStyle = { \r\n    color: 'red',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    margin: 20\r\n}\r\n\r\nconst Notification = ({message}) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    if (message.includes('Error:')) {\r\n        return (\r\n            <div style={errorStyle}>{message}</div>\r\n        )\r\n    }\r\n    else {\r\n        return (\r\n            <div style={notificationStyle}>{message}</div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = (personObject) => {\r\n    const request = axios.post(baseUrl, personObject)\r\n    return request.then(response => {\r\n        console.log(\"response:\", response);\r\n        console.log(\"response.data:\", response.data);\r\n        return response.data\r\n    })\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.status)\r\n}\r\n\r\n// EI TOIMI VIELÄ, PALAUTTAA ERRORIN (tehdään kohdassa 3.17)\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, create, remove, update}","import React, { useState, useEffect } from 'react'\n\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\n\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState(0)\n\n  const [notification, setNotification] = useState(null)\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const foundPerson = findPerson()\n\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (foundPerson === undefined) {\n      personService\n        .create(personObject)\n          .then(returnedPerson => {\n            console.log(returnedPerson)\n            setPersons(persons.concat(returnedPerson))\n            successNotification('added', personObject.name)\n          })\n          .catch(error => {\n            console.log(\"error:\", error);\n            console.log(\"error.response.data:\", error.response.data);\n            console.log(\"error.response:\", error.response);\n            setNotification(`Error: ${error.message}`)\n          })\n      setNewNumber(0)\n    } else {\n      if (newNumber !== foundPerson.number) {\n        eventReplaceNumber(foundPerson, \n          window.confirm(`${newName} is already added to phonebook, replace old number?`))\n      } else {\n        window.alert(`${newName} is already added to phonebook`)\n      }\n      }\n    setNewName('')\n  }\n\nconst eventReplaceNumber = (foundPerson, confirmation) => {\n    if (confirmation) {\n      foundPerson.number = newNumber\n      personService\n        .update(foundPerson.id, foundPerson)\n          .then(returnedPerson => {\n            console.log(returnedPerson);\n            setPersons(persons.map(person => person.id !== foundPerson.id ? person : returnedPerson))\n            successNotification('updated', foundPerson.name)\n          })\n        .catch(error => {\n          setNotification(`Error: ${foundPerson.name} has already been removed from the server`)\n          setTimeout(() => {\n            setNotification(null)\n          }, 5000)\n        })\n    }\n    setNewName('')\n    setNewNumber(0)\n  }\n\n  const findPerson = () => {\n    const foundPerson = persons.filter(person => person.name.toLocaleLowerCase() === newName.toLocaleLowerCase())\n\n    if (foundPerson.length > 0) {\n      return foundPerson[0]\n    }\n    return undefined\n  }\n\n  const handleFilterInput = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  const handleNameInput = (event) => {\n    setNewName(event.target.value)  \n  }\n\n  const handleNumberInput = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  //varmaan turha, useState('') aluksi(?)\n  const numberForm = () => {\n    if (newNumber === 0) {\n      return ''\n    }\n    return newNumber\n  }\n\n  const deletePerson = (event) => {\n    event.preventDefault()\n    const person = persons.find(person => person.name === event.target.value)\n\n    const confirmation = window.confirm(`Delete ${person.name}?`)\n    if (confirmation) {\n      personService\n        .remove(person.id)\n          .then(responseStatus => {\n            if (responseStatus === 204) {\n              const newArray = persons.filter(listPerson => listPerson.name !== person.name)\n              setPersons(newArray)\n            }\n          })\n      successNotification('deleted', person.name)\n    }\n  }\n\n  const successNotification = (eventType, name) => {\n    setNotification(`${name} ${eventType}`)\n    setTimeout(() => {\n      setNotification(null)\n    }, 5000)\n    setNewName('')\n    setNewNumber(0)\n  }\n\n  useEffect(() => {\n      personService\n        .getAll()\n          .then(initialPersons => setPersons(initialPersons))\n  }, [])\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n\n      <Notification message={notification} />\n\n      <Filter handleFilterInput={handleFilterInput} filterValue={newFilter} />\n\n      <PersonForm handleNumberInput={handleNumberInput} handleNameInput={handleNameInput} \n        numberForm={numberForm()} nameForm={newName} addPerson={addPerson}\n        header='add a person' />\n\n      <h2>Numbers</h2>\n      <Persons filter={newFilter} persons={persons} onClick={deletePerson} />\n  </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}